# XEngine
A Game Engine (with UI) created from scratch using openGL
A comprehensive game engine "simulator" using openGL.[Please read the instructions carefully before using the engine]. This is not a simplistic project and hence I cannot provided a 1 page instruction manual for the engine.  
EXT Libraries used->SDL,GLUT,GLM(Mathlib),GLEW FBX SDK,SOIL(I had only created a custom tga converter, SOIL helped to convert other formats).  
Various tutorials and online help was used as most of the low level concepts included in the engine were not known to me prior. 
With 2 weeks and over 120 cumulative hours, I have created a game engine in openGL which is inspired by the Unity Game engine.I call it as an "emulator" because you cannot export the game as a executable in the end, but rather build your scene how you would build it in a real engine, and then be able to play your game, but after you exit the app, the instance of the game does not exist. The main challenge was being able to take the idea and emulate the main functions of a game engine solely through using openGL.I'll explain the instructions of how to use the game engine, at the same time while going through every step i'll further give more details on each functional unit and how the engine works . 
Inputs[Were made to relate to most graphic interfaces]  
[Hold and drag]Mouse_Left_btn = Rotate viewport[x,y,z] 
[Hold and drag]Mouse_right_btn = Pan viewport[x,y,z] 
Mouse_middle_btn = select objects in the viewport to perform transformations on. Selected objects will be highlighted on the hierarchy window and explicated defined as “selected node”. 
DELETE KEY:  Will delete the selected node from the scene. It will also delete the children nodes if the selected node was a parent to some children. 
SHIFT+ Mouse_middle_btn = Select multiple objects 
PAGE_DOWN KEY= Pause game in play mode. 
ESC KEY = Exit the game engine 
  
     UI interface Every UI element ranging from the textbox blinking cursor to the bottons, lists, sliders were all made from scratch using openGL. Textureswere applied to them which were created in photoshop. The viewport will zoom and focus into the objects that are loaded.  
Top Frame buttons; 1)Toggle axes: Displays the X,Y,Z axes per object 
2)Create Plane : Creates a plane  
3)Create Cube : Creates a cube 
4)Create Sphere : Create a sphere 
5)Parent : This was probably the most complex feature as I had to build a nodal/hierarchical system around it. Spent the most time in coming up with a design for this after learning various hierarchical systems used in game engines and reading tutorials. Use [SHIFT+ Mouse_middle_btn] to select multiple objects. You can see in the hierarchy all the objects selected. The last object you select becomes the parent of the all the previous objects. Also the children’s position/rotation/scale will be relative to the parent after transformation.[Keep that in mind, if you make an object a child which is centered at the origin it will be inside the parent].You can perform forward kinematics and all sorts of cool stuff including making the penguin from assignment2 using the engine:D ->how cool is that? . Also the parents always show on the top of the hierarchy window, while the children are below the parent and slightly indented. 
6)UnParent: Selected a parented object, and all the children’s will be removed from the parent, and back into their positions relative to the world.  
The next few buttons were created for the purpose of abstracting functionality of the engine for the sake of the demo and also the UI was getting cluttered, I could only show /fit so much in the UI. 
The lighting demo is used to show how our lighting system works. 
7)Toggle Directional Light: Enables directional light in the scene/without it  the scene would be black. 
8)Toggle Spot Light: Generates 7 spot lights directed at 0.0.0.[Spot light+directional light would be fairly bright, so I suggest disabling the directional light to get the full spot light experience]. 
9)Spin Spot Light: This was mainly done to show off your scene by spinning lights of random RGB, and then you can stop spinning it to get the spot lights fixed where you like .   
The buttons below were similarly done to making demo-ing the engine easier. I could have also put a text box which would allow any height map.raw or skydome.jpeg to be loaded in the scene, but this would make the UI very cluttered and harder to demo. 
10)Add Skybox: Adds a skybox into the scene. [Preselected] 
The terrain supports multitexture generation. The texture mapping is based on the heights provided in the raw file.I had initially coded a single texture terrain generator without using VBO buffers(included in source), when I learnt how effective they were, I went through 4-6 tutorials and was able to build a multi-texture terrain generator with functionality to get normals at point and as well as get the height. A lot of time was invested in this module, to learn and get it working for the purpose I needed it for. This is useful when building a game. 
11)Load Terrain : Loads a flat terrain with single texture.[Preselected] 
12)Load Terrain 2: Loads a terrain with varying heights. Notice how the the ground is rocky, and as you get higher the texture is a blend of rock and grass and at the top its snow. 
13)Add third person controller[FBX] . I used the FBX SDK to take the models I had animated inside Maya, which is the almighty Pikachu is this case. He has an idle and run animation. If you look how I coded and put this all together, Pikachu has a character controller script attached to him, physics such as gravity and friction during movement are applied. Also the collision is checked against the heights of the height map. So you will notice Pikachu doesn’t not fall through terrain. If you leave the boundaries of the terrain you will fall due to gravity. Because of the FBX SDK nodal system, I didn’t not include Pikachu as part of the hierarchy , it was creating some conflicts as I had done the FBX importing after I built my system, so they both couldn’t work together(optimization issues). There is also a third person camera script attached to him as well.  Also every object other than the FBX model follows the object oriented approach as follows. Object->Mesh->transform->Node. So during scene mode every node is constantly being rendered but static. When you click play, every object’s update function will be enabled. Very similar to unity. Also when you load Pikachu he will be at 0.0.0, if you have loaded the terrain you might not see Pikachu due to the heights of terrain, simply rotate around to see him. You can click play to get control of him and move. [W] = move forward. [S] = move backwards. [SPACE] = Jump. 
14) Play button: Put you into PLAY MODE: You need to add the third person controller before you click play, otherwise there wont  be any character to be updated in the scene and it will be a static scene. Click PAGE_DOWN to pause the game anytime and regain mouse control and click stop to get back to scene mode. 
15) Stop button: Stops a scene that is in PLAY MODE.  
Inspector Frame [Right frame] You can perform transformations to the selected node.  
Hierarchy Frame[Left Frame] As explained above, the hierarchy frame displays a list of all the nodes in your scene. Selecting an object in your scene will highlight the object in the hierarchy. 
Add texture Control: Type in the textbox the texture you want mapped [This only works for primitive objects, .obj loaded from .obj and.mtl files]. For example: Selected a cube or sphere and apply texture:  “tile.tga” or “skyBack.tga”. The texture will be mapped to that object, and the object names will be appended with a [t] in the hierarchy.  Use this only for sphere/cube/plane.  The custom texture loader only supports .tga . 
OBJ Loader Created my custom OBJ loader by parsing.obj and .mtl files. Feel free to add in your own .obj into the obj loader. I have no provided validation for the textboxes. The program might crash if you spam click add or add a wrong file name. Simply restart if it does. Run as administrator if possible also.  
The files I include to test with are as follows 
“SuperMan.obj” (notice how the viewport zooms out because of supermans size] “House001.obj” “SeaBird.obj” 
Click Add .obj to load the object into the obj loader list. You can then select the object in the drop down list and click LOAD OBJECT TO HIERARCHY.  
 The object will appear in the scene and also as the hierarchy. The .objs can be parented to other .objs as well! 
Conclusion: Feel free to build your scene with the sky dome, terrain or terrain2, the .obj models and various primitives to which you can bind textures too. Perform transformations and then play your scene using the FBX model which has a character controller script attached to it.  
Summary of main points of XEngine [My scope for this project was larger, but I was limited by the 2 week deadline]  UI functionality has been built from scratch, right from the blinking cursor of text boxes to the buttons.  Generating Primitive objects generation(cube,sphere,planes,etc)  texturing support for all objects(custom tga texture loader)  terrain generation based on height map+ texture mapping based on heights  skybox/sky dome support  select/Delete objects on screen and manipulate them with the inspector window(scaling/rotating/translating,etc) 
 Hierarchical node based system (parenting/un-parenting). Displays your current objects (nodes) in your scene and their status.  Scene view grids/axes  OBJ support(custom obj loader)  FBX support(Animation support)  Audio support(music/FX)  Spot/Direction/Point lighting support  You can run and play your scene at any time, provided you attach a character controller with an update script.  Console for run time debugging purposes.  
